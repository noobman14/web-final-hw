<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>设置 - 校园生活交友平台</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="setting.css">
</head>
<body>
    <header>
        <div class="logo">校园生活交友平台</div>
        <nav><ul></ul></nav>
    </header>
    <main>
        <div class="settings-container">
            <div class="settings-header">
                <a href="profile.html" class="back-button">← 返回</a>
                <h2>设置</h2>
            </div>
            
            <div class="settings-content">
                <div class="settings-section">
                    <div class="section-title">界面设置</div>
                    <div class="setting-item">
                        <div class="setting-info"><div class="setting-title">深色模式</div></div>
                        <div class="setting-control"><label class="switch"><input type="checkbox" id="themeToggle"><span class="slider"></span></label></div>
                    </div>
                    <div class="setting-item">
                        <div class="setting-info"><div class="setting-title">语言切换</div></div>
                        <div class="setting-control"><select id="languageSelect"><option value="zh">中文</option><option value="en">English</option></select></div>
                    </div>
                </div>
                <div class="settings-section">
                    <div class="section-title">账号</div>
                    <div class="setting-item">
                        <div class="setting-info"><div class="setting-title">退出登录</div></div>
                        <div class="setting-control"><span id="logoutBtn" class="arrow-icon"><i class="fa fa-sign-out-alt"></i></span></div>
                    </div>
                </div>
            </div>
        </div>
    </main>
    <footer>
        <p>&copy; 2025 校园生活交友平台</p>
    </footer>
    <script src="common.js"></script>
    <script>
        // 设置页面脚本：主题切换、语言切换、退出登录
        document.addEventListener('DOMContentLoaded', () => {
            // 主题切换
            const themeToggle = document.getElementById('themeToggle');
            const savedTheme = localStorage.getItem('theme') || 'light';
            document.documentElement.setAttribute('data-theme', savedTheme);
            themeToggle.checked = savedTheme === 'dark';
            themeToggle.addEventListener('change', () => {
                const theme = themeToggle.checked ? 'dark' : 'light';
                localStorage.setItem('theme', theme);
                document.documentElement.setAttribute('data-theme', theme);
            });
            // 语言切换
            const languageSelect = document.getElementById('languageSelect');
            languageSelect.value = localStorage.getItem('lang') || 'zh';
            languageSelect.addEventListener('change', () => {
                localStorage.setItem('lang', languageSelect.value);
                location.reload();
            });
            // 退出登录
            document.getElementById('logoutBtn').addEventListener('click', () => {
                localStorage.removeItem('loggedInUser');
                localStorage.removeItem('userNickname');
                window.location.href = 'index.html';
            });
        });
    </script>
</body>
</html>